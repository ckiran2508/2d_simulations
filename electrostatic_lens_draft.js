function run(){function e(){for(let t=0;t<10;t++){var e=Particle.create(55,V+randomNumberRange(-50,50),2,"lightgray",10);e.velocity=Vector.create(0,0),T.push(e)}}function t(){for(let t=0;t<T.length;t++){var e=Vector.create(0,0);for(let c=0;c<h.points.length;c++){let o=Vector.VectorDiff(T[t].position,h.points[c]);e.setMag(h.voltage/o.getMag()),e.setDir(o.getDir()),T[t].acceleration.addTo(e)}for(let c=0;c<f.points.length;c++){let o=Vector.VectorDiff(T[t].position,f.points[c]);e.setMag(f.voltage/o.getMag()),e.setDir(o.getDir()),T[t].acceleration.addTo(e)}for(let c=0;c<m.points.length;c++){let o=Vector.VectorDiff(T[t].position,m.points[c]);e.setMag(m.voltage/o.getMag()),e.setDir(o.getDir()),T[t].acceleration.addTo(e)}}}function o(){for(let e=0;e<T.length;e++)T[e].velocity.addTo(T[e].acceleration)}function r(){for(let e=0;e<T.length;e++)T[e].updatePosition()}function a(){for(let e=0;e<T.length;e++)draw(c,T[e])}function n(){T.length>v&&T.shift()}function i(){c.fillStyle="black",c.fillText("Accelerating Anode 1",200,V-150),c.fillText("Focusing Anode",400,V-150),c.fillText("Accelerating Anode 2",575,V-150)}function l(){c.clearRect(0,0,canvas.width,canvas.height),u<10?u++:s&&(e(),u=0),t(),o(),r(),a(),n(),g(),i(),requestAnimationFrame(l)}function g(){c.beginPath(),c.moveTo(800,V-110),c.lineTo(20,V-110),c.lineTo(20,V+110),c.lineTo(800,V+110),c.stroke(),c.beginPath(),c.moveTo(10,V-25),c.lineTo(50,V-25),c.lineTo(50,V+25),c.lineTo(10,V+25),c.stroke(),c.beginPath(),c.moveTo(180,V-90),c.lineTo(300,V-90),c.stroke(),c.beginPath(),c.moveTo(180,V+90),c.lineTo(300,V+90),c.stroke(),c.beginPath(),c.moveTo(240,V-90),c.lineTo(240,V-120),c.stroke(),c.beginPath(),c.moveTo(240,V+90),c.lineTo(240,V+120),c.stroke(),c.beginPath(),c.moveTo(370,V-90),c.lineTo(490,V-90),c.stroke(),c.beginPath(),c.moveTo(370,V+90),c.lineTo(490,V+90),c.stroke(),c.beginPath(),c.moveTo(430,V-90),c.lineTo(430,V-120),c.stroke(),c.beginPath(),c.moveTo(430,V+90),c.lineTo(430,V+120),c.stroke(),c.beginPath(),c.moveTo(560,V-90),c.lineTo(680,V-90),c.stroke(),c.beginPath(),c.moveTo(560,V+90),c.lineTo(680,V+90),c.stroke(),c.beginPath(),c.moveTo(620,V-90),c.lineTo(620,V-120),c.stroke(),c.beginPath(),c.moveTo(620,V+90),c.lineTo(620,V+120),c.stroke()}canvas.width;var V=canvas.height/2,s=!0,T=[];const v=200,h=(Vector.create(50,245),Vector.create(50,265),Vector.create(50,285),Vector.create(50,305),Vector.create(50,325),{voltage:1,points:[Vector.create(190,195),Vector.create(210,195),Vector.create(230,195),Vector.create(250,195),Vector.create(270,195),Vector.create(290,195),Vector.create(190,375),Vector.create(210,375),Vector.create(230,375),Vector.create(250,375),Vector.create(270,375),Vector.create(290,375)]}),f={voltage:10,points:[Vector.create(380,195),Vector.create(400,195),Vector.create(420,195),Vector.create(440,195),Vector.create(460,195),Vector.create(480,195),Vector.create(380,375),Vector.create(400,375),Vector.create(420,375),Vector.create(440,375),Vector.create(460,375),Vector.create(480,375)]},m={voltage:100,points:[Vector.create(570,195),Vector.create(590,195),Vector.create(610,195),Vector.create(630,195),Vector.create(650,195),Vector.create(670,195),Vector.create(570,375),Vector.create(590,375),Vector.create(610,375),Vector.create(630,375),Vector.create(650,375),Vector.create(670,375)]};var u=0;l()}var canvas=document.querySelector("canvas"),c=canvas.getContext("2d");run();