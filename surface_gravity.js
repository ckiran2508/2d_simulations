function run(){function t(){for(let e=0;e<1;e++){var t=Particle.create(canvas.width/2,100,30,"lightgray",100);t.velocity=Vector.create(0,2*Math.random()),s.push(t)}}function e(){for(let e=0;e<s.length;e++){var t=s[e];n(t)?(t.velocity.setDir(-t.velocity.getDir()),t.velocity.setY(.9*t.velocity.getY())):t.velocity.addTo(v),i(t)&&t.velocity.setX(.9*-t.velocity.getX()),t.position.addTo(s[e].velocity)}}function n(t){return t.radius+t.position.getY()+t.velocity.getY()>canvas.height}function i(t){return t.position.getX()+t.velocity.getX()+t.radius>canvas.width||t.position.getX()-t.radius<0}function o(){for(let t=0;t<s.length;t++)draw(c,s[t])}function a(){c.clearRect(0,0,canvas.width,canvas.height),null!==u&&null!==l&&(draw(c,u),c.beginPath(),c.moveTo(u.position.getX(),u.position.getY()),c.lineTo(l.getX(),l.getY()),c.stroke()),e(),o(),requestAnimationFrame(a)}var r,l,s=[],v=Vector.create(0,.2),u=null;canvas.addEventListener("mousedown",function(t){r=!0;const e=canvas.getBoundingClientRect();var n=Vector.create(t.clientX-e.left.toFixed(0),t.clientY-e.top.toFixed(0));u=Particle.create(n.getX(),n.getY(),30,"lightgray",100),l=n}),canvas.addEventListener("mousemove",function(t){if(r){const e=canvas.getBoundingClientRect();l=Vector.create(t.clientX-e.left.toFixed(0),t.clientY-e.top.toFixed(0))}}),canvas.addEventListener("mouseup",function(t){r=!1;const e=canvas.getBoundingClientRect();var n=Vector.create(t.clientX-e.left.toFixed(0),t.clientY-e.top.toFixed(0));u.velocity=Vector.VectorDiff(n,u.position),u.velocity.setMag(u.velocity.getMag()/10),s.push(u),u=null,l=null}),t(),a()}var canvas=document.querySelector("canvas"),c=canvas.getContext("2d");run();