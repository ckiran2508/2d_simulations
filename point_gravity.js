function run(){function t(){for(let e=0;e<10;e++){var t=Particle.create(100+10*e,100+10*e,5,"lightgray",100);t.velocity=Vector.create(0,2),l.push(t)}o=Particle.create(canvas.width/2,canvas.height/2,30,"lightgray",2e3)}function e(){for(let t=0;t<l.length;t++)l[t].position.diffMag(o.position)<l[t].radius+o.radius?l.pop():(l[t].gravitateTo(o),l[t].updatePosition())}function n(){for(let t=0;t<l.length;t++)draw(c,l[t]);draw(c,o)}function i(){c.clearRect(0,0,canvas.width,canvas.height),null!==s&&null!==r&&(draw(c,s),c.beginPath(),c.moveTo(s.position.getX(),s.position.getY()),c.lineTo(r.getX(),r.getY()),c.stroke()),e(),n(),requestAnimationFrame(i)}var o,a,r,l=[],s=null;canvas.addEventListener("mousedown",function(t){a=!0;const e=canvas.getBoundingClientRect();var n=Vector.create(t.clientX-e.left.toFixed(0),t.clientY-e.top.toFixed(0));s=Particle.create(n.getX(),n.getY(),5,"lightgray",100),r=n}),canvas.addEventListener("mousemove",function(t){if(a){const e=canvas.getBoundingClientRect();r=Vector.create(t.clientX-e.left.toFixed(0),t.clientY-e.top.toFixed(0))}}),canvas.addEventListener("mouseup",function(t){a=!1;const e=canvas.getBoundingClientRect();var n=Vector.create(t.clientX-e.left.toFixed(0),t.clientY-e.top.toFixed(0));s.velocity=Vector.VectorDiff(n,s.position),s.velocity.setMag(s.velocity.getMag()/10),l.push(s),s=null,r=null}),t(),i()}var canvas=document.querySelector("canvas"),c=canvas.getContext("2d");run();